\section{EMBERS Successes and Misses}
\label{sec:success}
Next, we detail
some of the successful as well as not so successful forecasts made by EMBERS over
the past few years in Latin America.
\subsection{Successful Forecasts}
\subsubsection*{Brazilian Spring (June 2013)}
These protests were the largest and most
significant protests in Brazil's recent history and caught worldwide
attention. Millions of Brazilians took part in these demonstrations,
also known as the Brazilian Spring or the Vinegar Movement (inspired
from the use of vinegar soaked cloth by demonstrators to protect
themselves from police teargas). These protests were
sparked by an increase in public transport fares from $R\$3$
to $R\$3.20$ by the government of President Dilma Rousseff.

As shown in Fig.~\ref{fig:brazilJune13}, while missing the initial uptick,
EMBERS did forecast the increase in the order-of-magnitude of protest events
during the Brazilian Spring and also captured
the spatial spread in the events. In addition EMBERS correctly
forecast that this event
will span the broad Brazilian general population (as opposed to being confined to
specific sectors).

Around 68\% of EMBERS alerts during this period originated from
the planned protest model.
This is due to the fact that
social networking
platforms (Twitter and Facebook) as well as conventional news media played a key
role in organization of these uprisings. Although initial protests were
primarily due to the bus fare increases, they quickly morphed into
more broader dissatisfaction to include wider issues such as
government corruption, over-spending, and police brutality. The
demonstrators also made calls for political reforms. In response, President
Rousseff proposed a plebiscite on widespread political reforms in
Brazil (but this was later abandoned). Through its dynamic query expansion model,
EMBERS was able to capture such discussions on Twitter
(see Fig.~\ref{fig:brazilJune13_wordCloud}), and tracked their evolution as events
unfolded through June.
\begin{figure} %[H]
\centering
\includegraphics[width=.9\columnwidth]{cu/brazilJune13}
\caption{EMBERS performance during the Brazilian Spring (June 2013).}
\label{fig:brazilJune13}
\end{figure}

\begin{figure} %[H]
\centering
\includegraphics[width=.9\columnwidth]{cu/brazilJune13_wordCloud}
\caption{Word cloud representing tweets identified by EMBERS dynamic query expansion model.}
\label{fig:brazilJune13_wordCloud}
\end{figure}

The protests intensified in late June (see Fig.~\ref{fig:brazilJune13}), which were
forecast correctly by EMBERS, and these events
also coincided with FIFA 2013 Confederation Cup matches. We believe this was an important factor in helping
the protests gain momentum,
as the events were covered by international media. A majority of protests
occurred in the cities that were hosting FIFA soccer matches.
EMBERS issued most of its alerts for these host cities (see
Fig.~\ref{fig:brazilJune13_map}), viz.
Rio de Janeiro, SÃ£o Paulo,
Belo Horizonte, Salvador, and Porto Alegre,
among others. For example, on 27th June during the Confederations Cup
semi-final in Fortaleza, around 5000 protesters clashed with the police
near the Castelao stadium. In this case EMBERS had forecast an alert the
day before. Later on the 30th of June, when the last games of the
confederation cup took place in Rio de Janeiro and Salvador, they
were plagued by mass protests as well; EMBERS predicted these events and
submitted multiple alerts for Rio for the 28th and 29th June and one for
Salvador for 29th June.

\begin{figure} %[H]
\centering
\includegraphics[height=.7\columnwidth]{cu/brazilJune13_map}
\caption{Geographic overlap of protest events (from the GSR) and EMBERS
alerts for Brazil during June 2013.}
\label{fig:brazilJune13_map}
\end{figure}

\subsubsection*{Venezuelan protests (Feb-March 2014)}
In early 2014 Venezuela began experiencing a situation of turmoil with a
large portion of its population protesting due to insecurity, inflation
and shortage of basic goods. This period saw one of the highest levels of
civil disobedience in Venezuela with protests beginning in January with the murder
of a former Miss Venezuela. However, the protests started gaining more importance
 and turned violent and more frequent with students joining the movement following an
attempted rape of a student on a campus in San Cristobal. EMBERS captured
some of these first calls-to-protest at San Cristobal and its nearby surrounding areas
 and correctly forecast the population (Education) and that the protests would turn violent.
A majority of the protesters were demanding that president Nicolas Maduro step down owing
to the poor economic policies and widespread corruption. EMBERS succeeded
in capturing
that the reason behind the protests were mainly against government policies with corruption being
a major theme.
The EMBERS models working on Twitter were also clearly able to identify some of the major
leaders involved in the protest, such as the key
opposition leader Leopoldo Lopez.
Though the events mainly began in
San Cristobal, they spread widely throughout the country; EMBERS
captured this spread very well as shown in Fig.~\ref{fig:venezuelaMap}.
Fig.~\ref{fig:venezuelaMarch14}
shows how EMBERS closely forecast the spike in the number of events  during this period.
%Over the next
%days, EMBERS closely forecast the spike in the number of events as shown
%in Figure~\ref{fig:venezuelaMarch14} and the spread
%of the protests to additional cities as shown in
%Figure~\ref{fig:venezuelaMap}.
%The protests were peaceful with a majority of
%the protesters demanding the president Nicolas Maduro to step down.

\begin{figure} %[H]
\centering
\includegraphics[width=.6\columnwidth]{cu/venezuelaMap}
\caption{Geographical spread of protests (and forecasts) during
the Venezuelan student protests (Feb-Mar 2014).}
\label{fig:venezuelaMap}
\end{figure}

\begin{figure} %[H]
\centering
\includegraphics[width=.9\columnwidth]{cu/venezuelaFeb14}
\caption{EMBERS performance during the Venezuelan student protests (Feb-Mar 2014).}
\label{fig:venezuelaMarch14}
%\vspace{-1em}
\end{figure}

\subsubsection*{Mexico protests (Oct 2014)}
\label{sec:mexico}
\begin{figure*}
\centering
\includegraphics[width=.9\textwidth]{cu/mx_timeline}
\caption{Timeline of Mexico protests, showing the correspondence
between counts of GSR events and EMBERS alerts on a daily basis.}
\label{fig:mexicoTimeline}
%\vspace{-1em}
\end{figure*}

In September 2014, there were some peaceful protests by students from Ayotzinapa
in Mexico against discriminatory hiring practices for teachers. During
these protests,
police opened fire on the students killing around three; 43 students
went missing. This poor
handling of the protest by the Mexican government caused widespread demonstrations throughout
the country over the next few months in support of the families of the 
43 missing students.
Many of these protests were violent in nature with demonstrators expressing extreme
dissatisfaction against the government of president Pena Nieto. EMBERS, as
shown in Fig.~\ref{fig:mexicoOct14}
forecast an uptick in Mexico protests during early October 2014 with a lead time of about three days.
It also generated  a series of alert spikes coinciding with the first
large-scale nationwide protests between October 5th and 8th.
Fig.~\ref{fig:mexicoTimeline} provides a timeline of GSR events and
EMBERS alerts for Mexico during this period. This figure provides a detailed
comparison of the continuous stream of alerts produced by EMBERS during this period against how
the actual events unfolded in the real world.

%\vspace{-.2em}

\subsubsection*{Colombia protests (Dec 2014 to March 2015)}
Colombia witnessed two different significant protests during this period, one during late December 2014
and the other during February 2015. Towards the end of 2014, the Colombian government was on the process
of moving forward with peace negotiations to end 50 years of conflict with the Revolutionary Armed Forces
of Colombia (FARC). With the FARC rebels having been associated with various acts of terror, e.g., extortion, armed conflict,
kidnapping, ransom, and illegal mining, for a long period, the people of Colombia gathered in huge numbers
 to protest against possible amnesty for the FARC rebels.
EMBERS successfully forecast the uptick in the number of events during the
middle of December 2014 as indicated in Fig.~\ref{fig:colombiaDec14}. 
This figure also depicts the increase in protest counts
during February 2015, although in this case EMBERS over-predicted the counts. 

The protests in February 2015 were qualitatively different in nature and
were led by truckers unions demanding better freight rates, labor rights, 
and revolting against high fuel prices.
The truckers protests extended for about a month and caused an
estimated loss of about \$300 million to the Colombian economy.
EMBERS forecast the truckers protests accurately at the onset of these
events but over-estimated the number of protests during
February 11-12.
%The increase in protest counts during Feb 2015 was
%caused by a truckers' strike against fuel price increases.

\begin{figure} %[H]
\centering
\includegraphics[width=.9\columnwidth]{cu/colombiaDec15}
\caption{EMBERS performance during the Colombia protests (Dec 2014 to Mar 2015).}
\label{fig:colombiaDec14}
\end{figure}

\subsubsection*{Paraguay protests (February 2015)}
\begin{figure} %[H]
\centering
\includegraphics[width=.9\columnwidth]{cu/paraguayFeb15}
\caption{EMBERS performance during the Paraguay protests (Feb. 2015).}
\label{fig:paraguay15}
\end{figure}

The February 2015 protests in Paraguay were mainly carried out by peasants
against the actions of President Horacio Cartes.
The protests were carried out after
president Horacio's public revelation that he had opened two private Swiss bank accounts.
The protests also had a historical significance. They were 
also being carried out as a tribute
to peasant leaders and activists who were murdered. The peasants also protested
against the introduction of a new public-private partnership law.
EMBERS forecast the uptick in the
number of Paraguay protests during mid
February 2015 as shown in Fig.~\ref{fig:paraguay15}.


%\begin{figure*}
  %\centering

%\begin{subfigure}[b]{0.38\textwidth}%[H]
%%\centering
%\includegraphics[width=.9\columnwidth]{cu/colombiaDec15}
%\caption{Colombia Protests (Dec. to Mar.2015)}
%\label{fig:colombiaDec14}
%\end{subfigure}
%\begin{subfigure}[b]{0.38\textwidth}%[H]
%%\centering
%\includegraphics[width=.9\columnwidth]{cu/paraguayFeb15}
%\caption{Paraguay Protests (Feb. 2015)}
%\label{fig:paraguay15}
%\end{subfigure}

%\begin{subfigure}[b]{0.38\textwidth}%[H]
%%\centering
%\includegraphics[width=.9\columnwidth]{cu/venezuelaFeb14}
%\caption{Venezuelan protests (Feb-Mar 2014).}
%\label{fig:venezuelaMarch14}
%%\vspace{-1em}
%\end{subfigure}
%\begin{subfigure}[b]{0.38\textwidth}%[H]
%%\centering
%\includegraphics[width=.9\columnwidth]{cu/brazilJune13}
%\caption{Brazilian Spring (June 2013.)}
%\label{fig:brazilJune13}
%\end{subfigure}

%\begin{subfigure}[b]{0.38\textwidth}
%\centering
%\includegraphics[width=.9\columnwidth]{cu/brazilMarch15}
%\caption{Brazil 2015 Protests}
%\label{fig:brazilSpring}
%\end{subfigure}
%\begin{subfigure}[b]{0.38\textwidth}%[H]
%%\centering
%\includegraphics[width=.9\columnwidth]{cu/mexicoOct14}
%\caption{Mexico protests (Oct 2014).}
%\label{fig:mexicoOct14}
%\end{subfigure}

%\caption{EMBERS performance for different forecasts}
%\label{fig:all}
%\end{figure*}

\vspace{1em}
\subsection{EMBERS Misses}
Next, we outline specific large-scale events that
EMBERS failed to forecast accurately, along with a discussion of underlying
reasons.

\subsubsection{Brazilian protests (March 2015)}
The beginning of 2015 saw a series of protests in Brazil demanding the
removal of president Dilma Roussef amidst much furore against the increasing corruption in the country.
The number of protests
increased significantly due to the revelations that many politicians belonging
to the ruling party accepted bribes from the state-run energy company Petrobas. The protests drew huge participation from
the general population, with protesters generally estimated to be around a
million. EMBERS, as shown in Figure~\ref{fig:brazilSpring},
picked up the onset of events but failed to capture the sudden rise 
in the number of events.

\begin{figure}
\centering
\includegraphics[width=.9\columnwidth]{cu/brazilMarch15}
\caption{EMBERS performance during the Brazilian protests of March 2015.}
\label{fig:brazilSpring}
\end{figure}

During this period there was a significant architectural change in the
EMBERS processing pipeline. As mentioned in Section~\ref{sec:background} the
EMBERS system enrichment pipeline consists of the following steps: natural language processing,
geocoding, and relative time phrase normalization (temporal tagging). During early 2015
EMBERS had moved to the Heideltime~\cite{heideltime} temporal
tagger versus the previously used TIMEN~\cite{timen} temporal tagger. (This
choice was made because
Heideltime supported more languages and an active development cycle.)
Heideltime had no support for Portuguese (the primary
language of Brazil) and the EMBERS software development team had 
extended Heideltime to
support Portuguese by translating the underlying
resources for Spanish to Portuguese. As it turns out,
the simple translation of rules from Spanish to Portuguese
was not sufficient and this affected the recall of one of the key models
for Brazil, viz. the planned protest model.
Since the planned protest model relies
almost exclusively on the quality of information (specifically, date) extraction from text,
its performance significantly deteriorated.
%Explanation for reviewer 1 comment:
%"it is not clear how the planned protest model has been corrected"
This was subsequently corrected for the future by adding
more rules and correcting existing rules (which were translated from
Spanish) in Heideltime for Portuguese with the aid of language experts and
extensive backtesting. Fig.~\ref{fig:heideltime} shows an example
detection before and after the changes.

\begin{figure}
  \centering
\includegraphics[width=.7\columnwidth]{cu/heideltime}
\caption{Example depicting the improvement in time phrase
recognition after changes to
Heideltime.}
\label{fig:heideltime}
\end{figure}

\subsubsection{Mexico protests (Dec 2014)}
The days of December 2014 witnessed a continuation of the series of protests that began in October 2014
as described in Section~\ref{sec:mexico}. People turned out in huge numbers in different cities of Mexico demanding
President Pena Nieto's ouster owing to the manner in which the case of the 43 missing students were handled.
The protests were largely peaceful except for a few cases where vehicles were torched and windows and office equipment
were broken.
\begin{figure} %[H]
\centering
\includegraphics[width=.9\columnwidth]{cu/mexicoOct14}
\caption{EMBERS performance during Mexico protests (Oct 2014).}
\label{fig:mexicoOct14}
\end{figure}

EMBERS missed the huge single day spike on December 1st. Though having predicted a nationwide event for
December 1, EMBERS failed to capture the individual cities where the 
protests would take place out and thus was unable to forecast the number of
events 
accurately.
On manual retrospective, it was found that the date, viz. December 1, 
was picked by the protesters due to its historical significance. This was the day when President Pena Nieto was sworn
in (in 2012) amidst much controversy and opposition from
many specific constituent groups. The manual analysis also led to the understanding of how
special dates were mentioned by the twitterati {\bf \#1Dmx}. Dates 
mentioned using such abbreviations 
went unrecognized by the EMBERS
system and was one of the main reasons for EMBERS not being able to capture the peak on December 1st despite its
historical significance.

\subsubsection{Brazilian Spring Onset}
The EMBERS forecasts during the 2013 Brazilian Spring as shown in Fig.~\ref{fig:brazilJune13} was able to capture
the peak but as can be seen the system was unable to capture the initial
onset.  See Section~\ref{limitations} for a detailed discussion of
the limits of forecasting.
\iffalse
The EMBERS system was not able to capture the initial onset because all EMBERS models were only trained mainly on the
Spanish language which was the most spoken language in the Latin America region. Quick re-training of the models
for portuguese, allowed EMBERS to capture the peak accurately.
\narenc{Refer back to the old Brazilian Spring figure. Say as mentioned earlier, while we forecast
the duration and details of it, we missed the onset of it. Say some more about it. This is an event that
we should not have any excuse for. Point them to look at the limitations section.}
\fi

%\input{sections/maxent_algo.tex}
\vspace{1em}
\section{Ablation Testing}
\label{sec:ablation}
Different data sources provide different value to
the forecasting enterprise. It is important that we understand the
value of a data source w.r.t. its forecasting potential.
In this section we describe ablation testing in EMBERS where the incremental
value addition is evaluated for specific data sources. In particular,
we are interested in determining the utility of using social
media versus traditional media such as news and blogs.
Table~\ref{tb:ablation_twitter} shows the percentage improvement
or degradation in performance measures when specific sources
are removed.
It clearly shows that social media sources are mainly necessary in achieving high recall but are not that useful in achieving high
lead times, for which traditional media sources are required. This
behavior is expected as social media is where daily chatter
occurs whereas signs of organization and calls for protest often
happen over (or are reported in) traditional meadia.
Mainly, Table~\ref{tb:ablation_twitter} makes it evident that to build a successful forecasting system we need a good mix
of both traditional and social media sources. Fig.~\ref{fig:ablation} shows a snapshot of the EMBERS ablation visualizer. The visualizer provides an
analyst with the capability to selectively
remove data sources and assess the differences in final alerts.

\begin{figure}
\includegraphics[width=\columnwidth]{figures/cu/ablation.pdf}
\caption{EMBERS ablation visualizer.}
\label{fig:ablation}
\end{figure}
\input{tables/ablation_twitter.tex}

\section{Forecasting Surprising Events}
\label{sec:suprising}
The GSR contains a mix of everyday, mundane, protests as well as surprising events such as the Brazilian Spring.
We aimed to ascertain the relative ease of forecasting each class of events
with respect to the baserate model described in section
~\ref{sec:qmetrics}.
To define surprising events,
we employed a maximum entropy approach. For this purpose, each event is assumed
to be describable
in terms of three dimensions: country, population, and event type. The GSR can then be conceptualized
as a cube. We infer a maximum entropy distribution conditioned on the marginals
induced by the cube using iterative proportional fitting~\cite{bishop2007discrete}.
%, as shown in Algorithm.~\ref{algo:maxent}.

%\begin{enumerate}
%\item Once the marginals are identified, elementary cells are replaced by 1; $\widehat{m}^{(0)}_{ijk}=1$
%\item After initialization, the following three-step iterative cycle is performed till a satisfactory stopping goal is achieved:
%$$\widehat{m}^{(c+1)}_{ijk} = \widehat{m}^{(c)}_{ijk}\frac{x_{ij+}}{\widehat{m}^{(c)}_{ij+}}$$
%$$\widehat{m}^{(c+2)}_{ijk} = \widehat{m}^{(c+1)}_{ijk}\frac{x_{i+k}}{\widehat{m}^{(c+1)}_{i+k}}$$
%$$\widehat{m}^{(c+3)}_{ijk} = \widehat{m}^{(c+2)}_{ijk}\frac{x_{+jk}}{\widehat{m}^{(c)}_{+jk}}$$
%where $c$ refers to iteration cycle and `+' refers to summation over a dimension.
%\item The procedure stops if either the desired convergence of $\delta < 0.0001$ is achieved or the maximum number of iterations are reached.
%\end{enumerate}
%
%\narenc{The procedure above makes no sense - the symbols are not defined at all.}
%
%\begin{figure}[H]
%\centering
%\includegraphics[width=.7\columnwidth]{cu/maxent_model}
%\caption{Modeling the maxent distribution of civil unrest counts to identify surprising events.}
%\label{fig:maxent_model}
%\end{figure}

Every month, events from the last three months of the
GSR are used to populate the underlying cube of counts and a iterative
proportional fitting procedure is %in Algorithm~\ref{algo:maxent} is
used to estimate the expected counts
for each cell. The resultant sample counts are then scaled to
match the observed number of GSR events in the current month. The cell-wise difference between the inferred
maxent distribution and the observed GSR is computed and all cells with significance greater than five standard
deviations are classified as containing surprising events. In essence, this approach takes the GSR as input and
creates a truncated GSR against which we can evaluate EMBERS (and the baserate model).

\begin{table}
  \small
\caption{Surprising events identified by a maximum entropy analysis
over the GSR.}
\renewcommand{\arraystretch}{1.1}
%\vspace{-3mm}
 \centering
 \begin{tabular}{|l|l|m{5cm}|}
 \hline
Month     & Country      & Description \\ \hline
May '13  &  Colombia	 &  Nationwide protests against administrative policy changes regarding the
Youth in Action program and social security pension. \\ \hline
Jun '13  &  Brazil  &  Brazilian Spring. \\ \hline
Jul '13  &  Brazil  &  Brazilian Spring. \\ \hline
Sep '13  &  Mexico  &  Nationwide protests against education and energy 
reforms. \\ \hline
Oct '13  &  Mexico  &  Nationwide protests against education and energy 
reforms. \\ \hline
Oct '13  &  Uruguay  &  Nationwide protests demanding increase in minimum 
wage. \\ \hline
Feb '14  &  Venezuela	  &  Venezuelan student protests. \\ \hline
Mar '14  &  Venezuela  &  	Venezuelan student protests. \\ \hline
May '14  &  Brazil  &  Nationwide demonstrations in response to the 
2014 FIFA World Cup and other social issues. \\ \hline
Jun '14  &  Brazil  &  Nationwide demonstrations in response to the 2014 FIFA World Cup and other social issues. \\ \hline
Aug '14  &  Argentina	  &  Nationwide protests against drops in wages, employment, and rising inflation. \\ \hline
Sep '14  &  Ecuador  &  Nationwide protests to demand changes in 
labor policies. \\ \hline
Oct '14  &  Mexico  &  Nationwide protests after the discovery of mass 
graves of kidnapped students. \\ \hline
\end{tabular}
%\vspace{-5mm}
\label{tab:maxentEvents}
\end{table}

In Table~\ref{tab:maxentEvents} we present several inferred events in Latin America from our maximum entropy
filter.
For all these events, we compare the recall of both EMBERS and baserate model
in Figure~\ref{fig:maxent}.
It is clear that EMBERS is able to forecast these significant upticks consistently and that the baserate model is not able to.

\begin{figure} %[H]
\centering
\includegraphics[width=.99\columnwidth]{cu/maxent}
\caption{Performance of EMBERS vs a baserate model for surprising events.}
\label{fig:maxent}
\end{figure}
